/* =============================================================================
   ContentsSidebar.css  —  scoped styles for the left contents rail only
   ========================================================================== */

/* ---- Local tokens (safe even when global tokens are missing) -------------- */
:root {
  /* Layout */
  --navbar-height: var(--navbar-height, 80px);
  --left-sidebar-width: var(--left-sidebar-width, 250px);

  /* Sidebar palette (Figma) */
  --cs-brown: #531C00;       /* active pill background */
  --cs-text:  #4F3629;       /* default text in rail */
  --cs-bg: rgba(251, 251, 250, 1);
  --cs-active:#e6e2dd;       /* active section row background */
  --cs-divider: #c7beb5;     /* vertical 1px divider on the right edge */

  /* Motion */
  --cs-ease: 180ms ease;
}

/* =============================================================================
   SHELL
   ========================================================================== */
.left-sidebar {
  position: fixed !important;
  top: var(--navbar-height) !important;
  left: 0 !important;
  height: calc(100vh - var(--navbar-height)) !important;
  width: var(--left-sidebar-width) !important;

  background: var(--cs-bg) !important;
  border-right: 1px solid var(--cs-divider) !important; /* thin vertical divider */

  overflow-y: auto !important;
  opacity: 0;
  transform: translateX(-100%);
  
  transition:
    transform 0.35s cubic-bezier(0.22, 1, 0.36, 1),
    opacity 0.25s ease;

  /* perf */
  contain: layout paint style;
  will-change: transform;
  z-index: 50;
  backface-visibility: hidden;
  transform: translateX(-100%);
}
.left-sidebar.open { transform: translateX(0); opacity: 1; }

.left-sidebar.closing {
  transform: translateX(-100%) !important;
  opacity: 0 !important;
}



/* Resize handle */
.left-resizer {
  position: absolute !important;
  top: 0; right: 0; bottom: 0;
  width: 6px !important;
  cursor: col-resize !important;
  background: transparent !important;
}
.left-resizer.is-resizing { background: rgba(83, 28, 0, 0.08) !important; }

/* =============================================================================
   HEADER CONTROLS (Expand/Collapse all)
   ========================================================================== */
.sidebar-header-controls {
  display: flex;
  justify-content: right;
  padding: 12px 16px 6px; /* extra top room like Figma */
}

.sidebar-toggle {
  all: unset;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  cursor: pointer;

  font-family: "Be Vietnam Pro", sans-serif;
  font-size: 12px;
  font-weight: 500;
  line-height: 1;
  color: var(--cs-text);                 /* #4F3629 */
  

}
.sidebar-toggle:hover { opacity: 0.9; }
.sidebar-toggle:focus-visible { outline: 2px solid #9d0013; outline-offset: 2px; }

.icon-double-chevron {
  display: inline-flex;
  flex-direction: column;
  line-height: 0;
}
.icon-double-chevron svg {
  width: 12px; height: 6px; display: block; fill: currentColor;
}

/* =============================================================================
   SECTION ROWS
   - Title row navigates.
   - Chevron toggles expand/collapse (JS stops propagation).
   - Active section row ALWAYS uses warm grey background.
   ========================================================================== */
.sidebar-section { margin-bottom: 6px; } /* subtle breathing room between sections */

/* SECTION ROWS */
.sidebar-section-header {
  /* edge-to-edge highlight inside a padded container (NavContent wrapper uses 16px) */
  margin-left: -16px;
  margin-right: -16px;
  padding: 8px 16px;              /* move padding here so the bg spans full width */
  border-radius: 0 !important;
  transition: background-color var(--cs-ease), border-color var(--cs-ease);
  border: 1px solid transparent;
  background: transparent;
}


.sidebar-section-header:hover:not(.is-active) {
  background: rgba(0,0,0,0.04); /* gentle hover only for non-active */
}

/* Active section row (route-aware via .is-active from JSX) */
.sidebar-section-header.is-active {
  background: var(--cs-active) !important; /* #e6e2dd */
  border-color: var(--cs-active) !important;
  border-radius: 0 !important;

}

/* Title text in section row — default REGULAR, only active is BOLD */
.sidebar-section-title {
  font: "Be Vietnam Pro";
  font-weight: 400 !important;             /* default regular */
  font-size: 16px !important;
  color: var(--cs-text) !important;        /* #4F3629 */
}

/* Bold only when the section is the active route */
.sidebar-section-header.is-active .sidebar-section-title {
  font-weight: 700 !important;
}

/* =============================================================================
   SUBSECTIONS
   - Active pill is brown with white text.
   - Inactive text uses cs-text.
   - Add vertical rhythm when a section is open.
   ========================================================================== */
.sidebar-subsection-container {
  padding-left: 22px;     /* indent subsections */
  margin-top: 8px;        /* space under the section row when opened */
}

.sidebar-sub-row {
  border-radius: 8px;
  padding: 6px 10px;
  transition: background-color var(--cs-ease), color var(--cs-ease);
  background: transparent;
}
.sidebar-sub-row:hover { background: rgba(83,28,0,0.06); } /* subtle hover */
.sidebar-sub-row.is-active {
  background: var(--cs-brown);           /* #531C00 */
}

/* Subsection text */
.sidebar-subsection {
  font-family: "Be Vietnam Pro", sans-serif !important;
  font-weight: 400 !important;
  font-size: 14px !important;
  color: var(--cs-text) !important;      /* default #4F3629 */
}
.sidebar-sub-row.is-active .sidebar-subsection {
  color: #FFFFFF !important;             /* white when active pill */
  font-weight: 600 !important;           /* bold only for active subsection */
}

/* =============================================================================
   BADGE
   ========================================================================== */
.beta-tag {
  display: inline-flex; align-items: center; justify-content: center;
  background: #EFEFEF; color: #333;
  font-weight: 700; font-size: 0.75rem;
  padding: 2px 8px; margin-left: 8px; border-radius: 6px;
}

/* =============================================================================
   SMALL POLISH
   ========================================================================== */
.sidebar-btn:hover {
     opacity: 0.8;
     }